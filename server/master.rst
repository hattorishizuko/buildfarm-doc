======================
マスターサーバーの構築
======================

テストジョブの実行管理、履歴管理のためマスターサーバーが必要となります。

マスターサーバー上でもテストを実行することは可能ですが、設定データや履歴データのバックアップを考慮してマスターサーバーではテストは実行せず、必ずスレーブサーバーを追加して運用する設定とします。

インストール
============

.. note::

  インターネット接続が可能なマシンを用意して下さい。ハイスペックなマシンは必要ありませんが、サイズの大きなログを長期間保存する場合は大きめのハードディスクを用意して下さい。

.. note::

  ネットワーク設定、セキュリティーアップデート、その他必要なソフトウェアのインストールなどは事前に行っておいて下さい。

.. warning::

  他のアプリケーションがポート番号8080を使用していないか確認して下さい。

githubから以下のリポジトリをクローンします。

.. code-block:: bash

  $ git clone https://github.com/jenkinshrg/buildfarm.git
  $ cd buildfarm

マスターサーバーをインストールします。(必要なプラグインのインストール、設定のカスタマイズを含みます)

.. code-block:: bash

  $ ./setup/master.sh

ブラウザで以下のURLが正しく表示されることを確認して下さい。

http://localhost:8080

仮想マシン
============

virtualboxをインストールします。

.. code-block:: bash

  $ ./setup/virtualbox.sh

vagrantをインストールします。

.. code-block:: bash

  $ ./setup/vagrant.sh

マスターサーバーを起動します。

.. code-block:: bash

  $ vagrant up

