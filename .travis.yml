language:
  - python
python:
  - "2.7"
env:
  global:
    - secure: "LoduUAS+MaVaa0PhXRKf9iQQUiPrXGJywyI/ew0OuS+iO7hksSdxRXoalgnciqHqUMAdjveYjCRSbADZc+AUD4UEO1XI688nfTjiVB7ewQkjFjZ6iUheQ9JJVb4QYHxhSjsTnWBm7EA51/BbDZcxgW1EQyti7DTVKMVTuorVlr7CD/Ix7ShPeW0x+vAWtqT0aQ4PGNWJGf4grQQFkzdqKx5AfSWFf2K8nzee+c3CTYnGBUl4MqZCNA6UxCS7ib5hqmQ8lRjIm6zF0DVZvWpbfsKDoOiCtWxcK+4ZLlcV6Fa03NyJDt2V7wv4NAAjHQ0PX34eBNn6BnufHyXQpj9dfDoLs3RtFveivWxRRfEA0TtAYdZilx1hZS6uUMvj8NbpCE46AJicL+PuraP1ufcbv6CnnHDAZRoDjD8z4mqPaFbK4Q4FFtq5X74FjuLMQ6is8uVi5QTqkqcEC/hKmh/8n8vBhYv7BQYKb/54uYGkaphrowU14nNWrf0t7N8dqOrt9O519ME19UWT2/wEcdFH/mgFlttp21GvJ+xwfBTHaxRpNPYeS+b0WgBHF82sM5isegGLhqk+04ivRvYiWc7zWmn6aa/m3Q0LDW79071+NT9YoEEc/iIwT6T5nfMYcV5GPitoiyFg33bzAeSe7Er22LJmpZFWTkqqJn1mSUQgsd8="
script: source .travis.sh
sudo: required
after_success:
  - set +x
  - echo $GIT_NAME
  - echo $GIT_EMAIL
  - export GIT_COMMITTER_NAME=$GIT_NAME
  - export GIT_COMMITTER_EMAIL=$GIT_EMAIL
  - export GIT_AUTHOR_NAME=$GIT_NAME
  - export GIT_AUTHOR_EMAIL=$GIT_EMAIL
  - echo "TRAVIS_PULL_REQUEST=$TRAVIS_PULL_REQUEST TRAVIS_BRANCH=$TRAVIS_BRANCH"
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cd ~/;            fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git clone --branch gh-pages https://github.com/$TRAVIS_REPO_SLUG doc;  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cd doc;           fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cp -r $TRAVIS_BUILD_DIR/_build/html/* ./; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git status;                  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git add -f .;                  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git commit -m "Build documents from $TRAVIS_COMMIT" . ; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git remote -v; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git push --quiet https://$GH_TOKEN@github.com/$TRAVIS_REPO_SLUG.git gh-pages; fi
