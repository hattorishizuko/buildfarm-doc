language:
  - python
python:
  - "2.7"
env:
  global:
    - secure: "enzeRwXC4yCzO+qS9Jx1mkFJ3QV8mSVjnRr7E2YXV93z9dMKS3CYriCyVbvXUwpuWbZdrJdKehZgXgD9h7oftTFylREd/UepjhgT33/XpgybXwR6+rPWHBqbGlqSVODMbIW3BJxkCCkDdYEhKKbBO5Ce5YqAxFoFDY1zDzso1fniwGYVEMdigORF1JZzUP6k1HMmxoUV3gtoMGhy6ZFHoubhLpUHGOEcPa9LuY30P691ip+S2MOlLZJy5YdSmJG6G70vC6B9p8uZ2XZJ2uuVzY/zghssSZPN9sGrI5OQvKqWUdWHkQupm/XVXuXwgzVriK/TGqJwxUfi8JkLeJ8u2xtf+/EyTMuT373EnKn8Sq5tp22bPs5p+HFchcon/bWRVNDllvhdfiSx0Tfk1J3fPs464YNWxs4MNgCClh4q5JFDrwxpwQjr3y6BUnbjt/bLLJjifxYFtrQR3akeHFN9QDUu+HeTChrqMzsA109gosPVAsclsVkJTo1VWIG+Y0TGy5Vr0hw+qUHH45pjGW31VGHlQditRPohvtkryzATQZeki0v6SR73ur++1pw/wxQA8KxuNfiXAsZ9Eh+I/WUYSM7C7/1pzbay+0xNAi3GCm12brTFbmd349U0PQ05dX5M+N2wnuQ+qbUaOm1ap96MBtk9e6OmZNwHZPAPSKCaOvo="
script: source .travis.sh
sudo: required
after_success:
  - set +x
  - echo $GIT_NAME
  - echo $GIT_EMAIL
  - export GIT_COMMITTER_NAME=$GIT_NAME
  - export GIT_COMMITTER_EMAIL=$GIT_EMAIL
  - export GIT_AUTHOR_NAME=$GIT_NAME
  - export GIT_AUTHOR_EMAIL=$GIT_EMAIL
  - echo "TRAVIS_PULL_REQUEST=$TRAVIS_PULL_REQUEST TRAVIS_BRANCH=$TRAVIS_BRANCH"
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cd ~/;            fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git clone --branch gh-pages https://github.com/$TRAVIS_REPO_SLUG doc;  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cd doc;           fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then cp -r $TRAVIS_BUILD_DIR/_build/html/* ./; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git status;                  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git add -f .;                  fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git commit -m "Build documents from $TRAVIS_COMMIT" . ; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git remote -v; fi
  - if [ "$TRAVIS_PULL_REQUEST" == "false" -a "$TRAVIS_BRANCH" == "master" ]; then git push --quiet https://$GH_TOKEN@github.com/$TRAVIS_REPO_SLUG.git gh-pages; fi
